<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:app="using:WorkDesign"
             x:Class="WorkDesign.StickPage"
             x:DataType="{x:Type app:StickPageViewModel}"
             Title="StickPage">

    <ContentPage.BindingContext>
        <app:StickPageViewModel />
    </ContentPage.BindingContext>

    <Grid RowDefinitions="*,Auto,Auto,160,*">

        <Grid Grid.Row="1"
              ColumnDefinitions="*,*">
            <Label Grid.Column="0"
                   Text="{Binding StickX}" />
            <Label Grid.Column="1"
                   Text="{Binding StickY}" />
        </Grid>

        <Grid Grid.Row="2"
              ColumnDefinitions="*,*,*,*">
            <Label Grid.Column="0"
                   Text="{Binding ButtonA}" />
            <Label Grid.Column="1"
                   Text="{Binding ButtonB}" />
            <Label Grid.Column="2"
                   Text="{Binding ButtonX}" />
            <Label Grid.Column="3"
                   Text="{Binding ButtonY}" />
        </Grid>

        <!-- Pad -->
        <Grid Grid.Row="3"
              ColumnDefinitions="*,*">

            <app:DPadCircleView Grid.Column="0"
                                WidthRequest="160" HeightRequest="160"
                                XValue="{Binding StickX}"
                                YValue="{Binding StickY}">
                <app:DPadCircleView.BaseBackground>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0" Color="#444444" />
                        <GradientStop Offset="1" Color="#888888" />
                    </LinearGradientBrush>
                </app:DPadCircleView.BaseBackground>
            </app:DPadCircleView>

            <AbsoluteLayout Grid.Column="1">
                <!-- Y (上) -->
                <Button AbsoluteLayout.LayoutBounds="0,0,1,0.4" AbsoluteLayout.LayoutFlags="All"
                        WidthRequest="64" HeightRequest="64"
                        FontSize="36" FontAttributes="Bold"
                        Text="Y"
                        TextColor="Orange"
                        CornerRadius="32"
                        app:ButtonOption.IsPressed="{Binding ButtonY}"
                        app:ButtonOption.PressBind="True" app:ButtonOption.PressEffect="True">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Offset="0.0" Color="#F7D700" />
                            <GradientStop Offset="1.0" Color="#FFEF8F" />
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>

                <!-- X (左) -->
                <Button AbsoluteLayout.LayoutBounds="0,0,0.5,1" AbsoluteLayout.LayoutFlags="All"
                        WidthRequest="64" HeightRequest="64"
                        FontSize="36" FontAttributes="Bold"
                        Text="X"
                        TextColor="Blue"
                        CornerRadius="32"
                        app:ButtonOption.IsPressed="{Binding ButtonX}"
                        app:ButtonOption.PressBind="True" app:ButtonOption.PressEffect="True">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Offset="0.0" Color="#3A96DD" />
                            <GradientStop Offset="1.0" Color="#52B6FF" />
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>

                <!-- B (右) -->
                <Button AbsoluteLayout.LayoutBounds="0,0,1.5,1" AbsoluteLayout.LayoutFlags="All"
                        WidthRequest="64" HeightRequest="64"
                        FontSize="36" FontAttributes="Bold"
                        Text="B"
                        TextColor="Red"
                        CornerRadius="32"
                        app:ButtonOption.IsPressed="{Binding ButtonB}"
                        app:ButtonOption.PressBind="True" app:ButtonOption.PressEffect="True">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="1,0" EndPoint="0,0">
                            <GradientStop Offset="0.0" Color="#D83C3E" />
                            <GradientStop Offset="1.0" Color="#FF878C" />
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>

                <!-- A (下) -->
                <Button AbsoluteLayout.LayoutBounds="0,0,1,1.6" AbsoluteLayout.LayoutFlags="All"
                        WidthRequest="64" HeightRequest="64"
                        FontSize="36" FontAttributes="Bold"
                        Text="A"
                        TextColor="Green"
                        CornerRadius="32"
                        app:ButtonOption.IsPressed="{Binding ButtonA}"
                        app:ButtonOption.PressBind="True" app:ButtonOption.PressEffect="True">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                            <GradientStop Offset="0.0" Color="#107C10" />
                            <GradientStop Offset="1.0" Color="#43C963" />
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>
            </AbsoluteLayout>
        </Grid>

    </Grid>

</ContentPage>